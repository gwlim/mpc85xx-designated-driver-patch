--- a/target/linux/ar71xx/files/drivers/net/ethernet/atheros/ag71xx/ag71xx_main.c
+++ b/target/linux/ar71xx/files/drivers/net/ethernet/atheros/ag71xx/ag71xx_main.c
@@ -105,7 +105,6 @@ static void ag71xx_ring_free(struct ag71
 
 static int ag71xx_ring_alloc(struct ag71xx_ring *ring)
 {
-	int err;
 
 	ring->desc_size = sizeof(struct ag71xx_desc);
 	if (ring->desc_size % cache_line_size()) {
@@ -118,21 +117,17 @@ static int ag71xx_ring_alloc(struct ag71
 	ring->descs_cpu = dma_alloc_coherent(NULL, ring->size * ring->desc_size,
 					     &ring->descs_dma, GFP_ATOMIC);
 	if (!ring->descs_cpu) {
-		err = -ENOMEM;
-		goto err;
+		return -ENOMEM;
 	}
 
 
 	ring->buf = kzalloc(ring->size * sizeof(*ring->buf), GFP_KERNEL);
 	if (!ring->buf) {
-		err = -ENOMEM;
-		goto err;
+		return -ENOMEM;
 	}
 
 	return 0;
 
-err:
-	return err;
 }
 
 static void ag71xx_ring_tx_clean(struct ag71xx *ag)
